export type ConsentState={necessary:boolean;analytics:boolean;marketing:boolean};const KEY="plab_consent_v1";export function getStoredConsent(){if(typeof window==="undefined")return null;const raw=localStorage.getItem(KEY);return raw?JSON.parse(raw)as ConsentState:null}export function storeConsent(c:ConsentState){if(typeof window==="undefined")return;localStorage.setItem(KEY,JSON.stringify(c))}export function applyConsentToGtag(c:ConsentState){if(typeof window==="undefined")return;const a=c.analytics?"granted":"denied";const m=c.marketing?"granted":"denied";window.gtag?.("consent","update",{ad_storage:m,analytics_storage:a,ad_user_data:m,ad_personalization:m})}declare global{interface Window{dataLayer?:any[];gtag?:(...args:any[])=>void}}